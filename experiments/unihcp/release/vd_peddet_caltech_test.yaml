common:
  max_iter: 1000
  distributed: false  # <- Added to disable distributed mode in Colab
  backbone:
    type: vit_base_patch16  # <- REQUIRED: specify the actual backbone type (adjust if different)
    kwargs:
      test_pos_mode: learnable_interpolate
  neck:
    type: SimpleNeck
    kwargs:
      mask_dim: 32         # Feature dim of the mask
      bn_group: 1
      activation: gelu
      mask_forward: True

  tester:
    type: TesterMultiTaskDev
    kwargs:
      pos_thr: 0.0
      gt_path: '/content/UniHCP/core/data/datasets/images/resources/CHval.odgt'
  sync: True
  collate: det

tasks:
  0:
    name: CrowdHumanPeddetTest
    loss_weight: 1.0
    gres_ratio: 1
    dataset:
      type: PedestrainDetectionDataset
      kwargs:
        task_spec:
          img_folder: '/content/UniHCP/core/data/datasets/images'
          ann_file: '/content/UniHCP/core/data/datasets/images/resources/CHval.odgt'
          return_masks: False
        augmentation:
          max_size: 1333
        vit: True
        train: False
    sampler:
      batch_size: 1
